<?php ${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6f\x6f\x67\x73t\x78t\x63\x78\x68\x65"]="\x63\x6f\x6cu\x6d\x6e";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6cpe\x65\x79\x6f\x6bu\x64"]="al\x69as";${"G\x4c\x4f\x42\x41\x4cS"}["sm\x66\x78uvg\x71"]="\x72\x65\x73\x75\x6ct";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70s\x69i\x68agrp"]="\x63\x6f\x6c\x75mn\x73";${"\x47L\x4f\x42A\x4c\x53"}["\x75\x64\x6cr\x70\x67\x74s\x63\x75b"]="\x63o\x6e\x64i\x74\x69on";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70\x6d\x76\x72\x70\x66\x61\x76"]="s\x65\x6c\x65\x63\x74";${"GL\x4f\x42\x41\x4cS"}["\x63\x67fqvt\x6d\x62h\x63"]="j\x6fin\x54a\x62\x6c\x65";${"GLO\x42A\x4c\x53"}["\x69\x77td\x61\x62"]="\x6d\x61\x69\x6eT\x61b\x6c\x65A\x6c\x69\x61s";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x69\x63\x77\x72twqq\x78\x70x"]="jo\x69\x6e\x54\x61\x62\x6c\x65Al\x69\x61s";${"G\x4cO\x42\x41\x4c\x53"}["q\x70\x6f\x63\x6cwh"]="storeI\x64";${"GL\x4fB\x41\x4c\x53"}["\x78\x71fl\x7a\x64\x6d\x6b"]="l\x65\x76\x65l";${"\x47\x4cOBA\x4cS"}["\x76st\x69\x63\x6f\x74t\x64"]="\x73q\x6c";class Nostress_Nscexport_Model_Mysql4_Cache_Categories extends Nostress_Nscexport_Model_Mysql4_Cache{protected$_cacheName='Categories';protected$_lowestLevel=0;const CATEGORY_PREFIX="catego\x72y_";public function _construct(){$this->_init("nsc\x65xpo\x72\x74/cac\x68e\x5f\x63a\x74e\x67o\x72i\x65s","p\x72\x6fd\x75c\x74_i\x64");}protected function defineColumns(){parent::defineColumns();}protected function reloadTable(){$yfaapyw="\x73\x71l";${$yfaapyw}=$this->getProductCategoriesUpdateSql();$this->runQuery(${${"\x47\x4cOB\x41LS"}["\x76st\x69c\x6f\x74td"]});}public function setLowestLevel($level){$lvajgnbjeqy="\x6ce\x76\x65\x6c";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6b\x63qw\x6cw"]="\x6c\x65\x76\x65l";if(isset(${$lvajgnbjeqy})&&is_numeric(${${"GL\x4f\x42\x41LS"}["xq\x66\x6c\x7a\x64\x6d\x6b"]})&&${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6bc\x71\x77\x6c\x77"]}>=0)$this->_lowestLevel=${${"\x47L\x4f\x42AL\x53"}["x\x71\x66\x6czd\x6d\x6b"]};}protected function getProductCategoriesUpdateSql(){${${"\x47\x4c\x4fB\x41L\x53"}["\x71\x70o\x63\x6c\x77\x68"]}=$this->getStoreId();${"GL\x4fB\x41\x4c\x53"}["\x75\x6e\x72\x70\x6f\x6c\x68"]="s\x71l";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75n\x72\x70ol\x68"]}=$this->getCleanMainTableSql();${"\x47\x4cO\x42\x41LS"}["\x78\x72zj\x73\x6b\x67\x67\x6ck\x71"]="s\x71\x6c";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x76\x73t\x69c\x6f\x74\x74\x64"]}.="IN\x53\x45\x52T \x49\x4eT\x4f {$this->getMainTable()} ";${${"\x47\x4cO\x42\x41\x4c\x53"}["\x78rz\x6a\x73\x6b\x67\x67\x6c\x6bq"]}.=$this->getSubSelectTable($this->getProductCategoriesSql())."\x3b";return${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x76sticott\x64"]};}protected function getProductCategoriesSql(){${"\x47L\x4fB\x41\x4c\x53"}["\x6dc\x78\x64\x61\x6f\x76\x77\x6b\x78"]="ma\x69nT\x61b\x6c\x65A\x6c\x69as";${"GL\x4fB\x41L\x53"}["\x6c\x71\x70\x67\x71q\x64"]="\x6ao\x69n\x54\x61b\x6ce";${"G\x4c\x4fB\x41\x4c\x53"}["\x74\x78\x79\x6d\x68\x72\x77\x72\x7a"]="mai\x6e\x54a\x62\x6c\x65";$drbnexk="\x6dainT\x61\x62\x6c\x65\x41\x6ci\x61\x73";${"\x47L\x4fBA\x4c\x53"}["y\x76\x6f\x6b\x77\x69k"]="s\x65l\x65ct";$nvuhttw="c\x6fnd\x69ti\x6f\x6e";${"\x47L\x4f\x42ALS"}["ou\x6dv\x6dbb\x79\x66"]="j\x6f\x69\x6eT\x61\x62l\x65\x41\x6c\x69\x61\x73";${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x74\x78\x79m\x68\x72\x77\x72\x7a"]}=$this->getTable("\x63at\x61\x6c\x6f\x67/\x63\x61te\x67or\x79\x5f\x70\x72o\x64uct_\x69\x6e\x64\x65x");$tfyfwxxj="\x73\x65\x6cect";${"\x47\x4c\x4f\x42\x41LS"}["\x65\x6fpm\x78\x76\x74e\x69"]="\x6ao\x69\x6e\x54\x61\x62l\x65\x41\x6c\x69a\x73";${${"\x47LO\x42A\x4c\x53"}["\x6dc\x78\x64\x61\x6f\x76wkx"]}=self::CCPI;$zlkrfyesjeh="m\x61\x69\x6eT\x61b\x6ce";${"\x47L\x4fB\x41\x4cS"}["l\x61\x64\x6afl\x77\x76\x74"]="\x6a\x6f\x69\x6e\x54\x61\x62\x6c\x65Al\x69a\x73";${"GL\x4f\x42A\x4cS"}["\x79\x79\x71\x68\x75\x66\x63\x65\x64c"]="\x63\x6f\x6c\x75\x6d\x6e\x73";${${"\x47\x4cO\x42\x41\x4c\x53"}["\x69c\x77r\x74wq\x71x\x70\x78"]}=$this->getCategoryFlatTable(true);${"G\x4cOBA\x4c\x53"}["\x6drhz\x66\x6e\x73\x77\x62"]="j\x6f\x69\x6e\x54\x61bl\x65\x41l\x69\x61\x73";${"\x47\x4cO\x42A\x4c\x53"}["\x6a\x75v\x76p\x74\x66"]="\x63\x6f\x6c\x75\x6dn\x73";${"\x47LO\x42A\x4cS"}["\x66bma\x70d\x71\x63\x63"]="\x63\x6f\x6e\x64it\x69o\x6e";${"\x47\x4c\x4fB\x41L\x53"}["\x66\x77\x77o\x63\x64"]="jo\x69\x6e\x54\x61\x62l\x65\x41l\x69\x61\x73";${${"\x47L\x4f\x42\x41\x4c\x53"}["l\x71\x70gq\x71\x64"]}=$this->getCategoryFlatTable();${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x79\x76o\x6bw\x69k"]}=$this->getEmptySelect();$select->from(array(${${"\x47LOB\x41\x4c\x53"}["i\x77tda\x62"]}=>${$zlkrfyesjeh}),array("\x70r\x6f\x64\x75\x63t_\x69\x64","({$this->getStoreId()}) \x61\x73 \x73tor\x65\x5f\x69\x64"));$select->join(array(${${"\x47\x4cOB\x41\x4c\x53"}["\x6c\x61\x64jflwv\x74"]}=>${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x63\x67\x66\x71\x76\x74m\x62\x68\x63"]}),${${"\x47\x4c\x4f\x42ALS"}["m\x72hz\x66n\x73\x77b"]}."\x2eent\x69t\x79\x5f\x69\x64=".${$drbnexk}."\x2e\x63a\x74e\x67\x6fr\x79\x5f\x69d",null);$select->where(${${"\x47\x4cOBA\x4c\x53"}["\x69\x77\x74\x64\x61b"]}.".\x73t\x6f\x72e_i\x64=?",$this->getStoreId());$select->where(${${"G\x4c\x4f\x42\x41\x4cS"}["icw\x72t\x77\x71\x71\x78\x70\x78"]}."\x2e\x6cevel>=?",$this->_lowestLevel);if(!$this->allowInactiveCategoriesExport())$select->where(${${"\x47\x4c\x4fB\x41LS"}["\x6f\x75\x6d\x76mbbyf"]}."\x2ei\x73_a\x63\x74\x69\x76e\x3d?",self::CATEGORY_ACTIVE);${"\x47\x4cOBA\x4c\x53"}["oh\x62\x75\x68\x78d\x76\x7ar\x65\x62"]="j\x6f\x69\x6eT\x61b\x6c\x65";$select->group("\x70rod\x75ct\x5fid");${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x70\x6d\x76\x72pfa\x76"]}=$this->_joinCategoryPath(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x70\x6d\x76\x72p\x66\x61\x76"]},false);${${"GLO\x42\x41L\x53"}["\x66\x77w\x6f\x63\x64"]}=self::CCUR;${${"\x47\x4c\x4fBA\x4cS"}["o\x68\x62u\x68\x78\x64\x76z\x72\x65\x62"]}=$this->getTable("\x63\x6fr\x65/\x75\x72\x6c_\x72\x65writ\x65");${${"\x47L\x4fBA\x4c\x53"}["\x66b\x6d\x61\x70dq\x63c"]}="{$joinTableAlias}\x2e\x63ateg\x6fr\x79\x5f\x69d \x3d {$mainTableAlias}\x2e\x63a\x74e\x67o\x72y\x5f\x69\x64 ";${$nvuhttw}.="A\x4e\x44 {$joinTableAlias}\x2e\x73t\x6fre\x5f\x69\x64\x20=\x20{$this->getStoreId()} ";${${"GL\x4f\x42\x41L\x53"}["\x75\x64\x6c\x72\x70\x67t\x73cub"]}.="AND\x20{$joinTableAlias}\x2epro\x64\x75ct_\x69\x64\x20I\x53 NU\x4cL ";$dwpfqxttk="j\x6fi\x6e\x54a\x62le";$select->joinLeft(array(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["e\x6f\x70m\x78v\x74\x65\x69"]}=>${$dwpfqxttk}),${${"G\x4cOB\x41LS"}["\x75\x64\x6c\x72p\x67\x74\x73c\x75b"]},null);${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6a\x75\x76\x76p\x74\x66"]}=$this->getCacheColumns();$select->columns($this->groupConcatColumns(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x79\x79\x71\x68\x75fc\x65\x64c"]}));return${$tfyfwxxj};}public function getCacheColumns(){parent::getCacheColumns();$rgxuiebhhden="\x63\x6f\x6cu\x6d\x6e\x73";$kwxjfdd="\x63\x6f\x6c\x75m\x6e\x73";${$kwxjfdd}=array_merge($this->getColumns($this->getCategoryFlatTable(true),null,false,true),$this->getColumns(self::NCCP,null,false,true),$this->getColumns(self::CCUR,null,false,true));${"GL\x4fB\x41L\x53"}["\x69\x73\x6c\x70mw\x75u\x65no"]="\x63\x6f\x6c\x75\x6d\x6e\x73";${$rgxuiebhhden}=$this->removeColumnPrefix(${${"\x47L\x4fB\x41L\x53"}["p\x73i\x69\x68\x61g\x72p"]});return${${"\x47\x4c\x4f\x42\x41LS"}["is\x6c\x70\x6d\x77\x75u\x65n\x6f"]};}protected function removeColumnPrefix($columns){${"GL\x4f\x42\x41\x4c\x53"}["dmx\x77\x65\x71\x75\x73d\x72\x68"]="\x63o\x6cumn";${${"GL\x4f\x42\x41\x4c\x53"}["\x73\x6df\x78\x75\x76\x67q"]}=array();foreach(${${"\x47\x4c\x4f\x42\x41\x4cS"}["p\x73\x69\x69\x68\x61\x67r\x70"]} as${${"G\x4c\x4f\x42\x41L\x53"}["\x6c\x70\x65\x65y\x6fku\x64"]}=>${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x64\x6d\x78\x77\x65\x71\x75\x73\x64\x72h"]}){${"G\x4c\x4f\x42AL\x53"}["\x67\x71\x75zv\x79\x6b\x62\x6c\x6ck\x78"]="a\x6c\x69\x61\x73";${"\x47\x4cO\x42\x41\x4c\x53"}["\x63\x6djy\x6d\x75\x6f\x73\x78\x67cj"]="al\x69as";${${"\x47\x4cO\x42\x41\x4c\x53"}["c\x6d\x6a\x79\x6duo\x73\x78g\x63\x6a"]}=str_replace(self::CATEGORY_PREFIX,"",${${"\x47L\x4fB\x41\x4c\x53"}["g\x71\x75\x7avy\x6b\x62\x6c\x6c\x6b\x78"]});${"\x47L\x4fB\x41\x4cS"}["\x75\x6c\x76\x65\x70\x6a\x6c\x67"]="\x72esu\x6c\x74";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75\x6c\x76ep\x6alg"]}[${${"G\x4c\x4f\x42\x41\x4c\x53"}["l\x70e\x65yo\x6b\x75\x64"]}]=${${"\x47\x4cO\x42\x41L\x53"}["o\x6fg\x73\x74\x78\x74\x63x\x68e"]};}${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6fgs\x71\x70\x6e\x6c\x6b"]="\x72es\x75\x6ct";return${${"\x47LOBALS"}["\x6f\x67\x73qpn\x6ck"]};}protected function getCleanMainTableSql(){return"D\x45L\x45\x54\x45 \x46ROM\x20{$this->getMainTable()} \x57\x48E\x52\x45\x20\x73\x74\x6f\x72\x65_\x69\x64\x20\x3d {$this->getStoreId()}\x3b";}}
?>