<?php ${"GL\x4fB\x41L\x53"}["\x76j\x6a\x79\x65\x6a\x66\x78"]="\x6d\x61i\x6eT\x61\x62\x6ce\x41\x6ci\x61\x73";${"\x47\x4c\x4fB\x41L\x53"}["\x73\x75p\x6cs\x76q\x74\x69"]="j\x6fi\x6eT\x61bl\x65D\x65\x66a\x75\x6c\x74V\x61l\x75e\x41l\x69\x61s";${"G\x4c\x4fBAL\x53"}["\x67\x7ah\x74\x66r\x71\x6e\x6d\x74\x78"]="s\x75\x70e\x72A\x74\x74\x72\x69\x62u\x74e\x73";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x62\x73\x66n\x69viya"]="\x72\x65\x73\x75\x6c\x74";${"G\x4c\x4f\x42\x41\x4cS"}["\x65\x73\x6f\x6e\x76l\x6e\x77\x66w\x74"]="\x73\x65\x6ce\x63\x74";${"\x47\x4cO\x42\x41\x4c\x53"}["m\x6f\x73\x6dkdr"]="\x63\x6f\x6c\x75mn\x73";${"\x47\x4c\x4f\x42A\x4c\x53"}["le\x69\x66\x70\x69u\x6e\x67"]="\x6c\x61b\x65\x6c\x43o\x6c\x75\x6d\x6e";${"\x47\x4c\x4f\x42A\x4cS"}["bx\x6a\x63\x67\x6d\x67s\x6d\x6f"]="\x6a\x6f\x69\x6e\x54ab\x6c\x65Al\x69a\x73";${"G\x4c\x4f\x42A\x4c\x53"}["s\x76\x68\x6ef\x76\x71\x6a\x65el"]="\x6aoi\x6eTab\x6c\x65";${"\x47LOBA\x4cS"}["\x66ha\x6b\x6bew\x69"]="\x6a\x6f\x69\x6eT\x61\x62l\x65\x56\x61\x6c\x75eAl\x69\x61\x73";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x69\x63\x7agx\x68\x76\x65v\x61"]="m\x61i\x6eTab\x6c\x65";${"\x47LO\x42\x41\x4c\x53"}["\x70\x76\x68\x61\x63c\x64"]="s\x74\x6f\x72e\x49\x64";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70\x68\x73\x77\x6d\x62\x77\x79\x62\x64\x62"]="s\x71\x6c";class Nostress_Nscexport_Model_Mysql4_Cache_Superattributes extends Nostress_Nscexport_Model_Mysql4_Cache{protected$_cacheName='Super attributes';public function _construct(){$this->_init("\x6e\x73\x63\x65\x78\x70ort/\x63\x61ch\x65_\x73\x75\x70er\x61t\x74ri\x62u\x74es","\x70\x72\x6f\x64\x75\x63\x74\x5f\x69\x64");}protected function defineColumns(){parent::defineColumns();$this->_columns[self::CPSA]=array("\x70r\x6f\x64\x75\x63\x74\x5f\x69d"=>"produ\x63t\x5f\x69\x64","s\x74\x6f\x72\x65_\x69d"=>"({$this->getStoreId()})",);$this->_columns[self::NSA]=array("su\x70\x65\x72_\x61t\x74rib\x75tes"=>"\x73up\x65r\x5fat\x74r\x69bu\x74\x65s");$this->_columns[self::CPSAL]=array("\x76a\x6cue"=>"va\x6c\x75e");$this->_columns[self::EA]=array("\x63ode"=>"\x61t\x74\x72\x69\x62\x75\x74\x65\x5fc\x6fd\x65");}protected function reloadTable(){${${"G\x4c\x4f\x42\x41L\x53"}["\x70\x68\x73\x77\x6db\x77y\x62\x64\x62"]}=$this->getProductInfoUpdateSql();$this->runQuery(${${"\x47L\x4fB\x41\x4c\x53"}["\x70hs\x77\x6d\x62w\x79\x62db"]});}protected function getProductInfoUpdateSql(){${${"\x47\x4cOBA\x4c\x53"}["\x70vh\x61\x63\x63\x64"]}=$this->getStoreId();${${"\x47\x4c\x4f\x42AL\x53"}["ph\x73\x77m\x62w\x79\x62\x64\x62"]}=$this->getCleanMainTableSql();${${"G\x4c\x4f\x42\x41L\x53"}["\x70\x68\x73\x77\x6d\x62\x77\x79b\x64b"]}.="I\x4e\x53\x45\x52\x54 \x49\x4e\x54\x4f\x20{$this->getMainTable()}\x20";${${"\x47L\x4f\x42A\x4cS"}["p\x68\x73\x77\x6d\x62\x77\x79\x62d\x62"]}.=$this->getSubSelectTable($this->getSuperAttributesSql())."\x3b";${"\x47\x4cOB\x41L\x53"}["o\x6d\x76g\x78\x75\x66\x68\x67\x66\x6f"]="\x73ql";return${${"\x47LO\x42A\x4c\x53"}["\x6fmv\x67\x78u\x66\x68gf\x6f"]};}protected function getSuperAttributesSql(){$wkydnvswrhm="\x73el\x65\x63\x74";${"\x47L\x4f\x42\x41\x4cS"}["\x6bb\x64qt\x6au\x61\x65c\x69\x72"]="\x63\x6f\x6c\x75\x6d\x6e\x73";$ndvxlhagsce="\x6d\x61\x69\x6eT\x61b\x6c\x65Ali\x61\x73";${${"\x47\x4c\x4fB\x41L\x53"}["\x69\x63\x7a\x67\x78\x68\x76\x65\x76a"]}=$this->getTable("\x63ata\x6c\x6f\x67/p\x72o\x64u\x63t\x5fs\x75p\x65\x72_\x61\x74t\x72ibu\x74e");${"GLO\x42AL\x53"}["\x79yyin\x66\x78\x69"]="m\x61\x69\x6e\x54\x61bleA\x6c\x69as";$xwrcqjvvk="\x6ao\x69nTab\x6ce\x44\x65\x66au\x6ct\x56\x61lu\x65\x41\x6c\x69a\x73";$pfsskzswu="jo\x69\x6e\x54ab\x6ceD\x65\x66a\x75l\x74\x56\x61\x6c\x75\x65\x41\x6cia\x73";$jmgxfsqqq="\x73\x65l\x65c\x74";${"\x47\x4c\x4fB\x41LS"}["f\x6ad\x61b\x76"]="\x6dai\x6e\x54\x61\x62l\x65A\x6c\x69\x61\x73";${${"\x47L\x4fB\x41\x4c\x53"}["\x79\x79y\x69\x6e\x66\x78\x69"]}=self::CPSA;$syufmeyqsoq="\x6da\x69\x6e\x54able";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x64s\x6ax\x72g\x67f"]="\x6a\x6f\x69n\x54\x61\x62\x6ce\x41\x6c\x69\x61\x73";$htdowko="jo\x69\x6e\x54\x61b\x6c\x65";${$wkydnvswrhm}=$this->getEmptySelect();$select->from(array(${$ndvxlhagsce}=>${$syufmeyqsoq}),$this->getColumns(${${"\x47L\x4f\x42\x41\x4cS"}["f\x6ad\x61\x62v"]}));${${"G\x4cO\x42A\x4c\x53"}["f\x68\x61\x6bk\x65\x77\x69"]}="\x76a\x6cue";$bpwpbowbndio="\x6ao\x69\x6e\x54\x61b\x6c\x65Al\x69\x61s";${$bpwpbowbndio}=${${"GLO\x42\x41\x4c\x53"}["\x66h\x61k\x6b\x65w\x69"]};${${"\x47\x4c\x4fBA\x4c\x53"}["svh\x6e\x66\x76q\x6aee\x6c"]}=$this->getTable("\x63\x61tal\x6f\x67/\x70ro\x64\x75\x63t\x5fsupe\x72_\x61ttr\x69\x62\x75\x74\x65\x5flabel");$dfsustabf="\x73\x65\x6cec\x74";$select->joinLeft(array(${${"GLO\x42\x41\x4c\x53"}["\x62\x78\x6a\x63g\x6dg\x73\x6do"]}=>${${"\x47\x4c\x4fBALS"}["s\x76hnf\x76\x71\x6a\x65el"]}),"{$joinTableAlias}.\x70\x72\x6f\x64\x75\x63\x74_\x73\x75\x70\x65\x72_attri\x62ute_i\x64\x3d{$mainTableAlias}\x2eproduc\x74_\x73up\x65r_a\x74tribute_\x69\x64\x20AND {$joinTableAlias}.s\x74ore_id\x20= {$this->getStoreId()}",null);${$pfsskzswu}="\x64\x65fa\x75\x6c\x74\x56al\x75e";${${"GL\x4fB\x41\x4cS"}["\x62\x78\x6a\x63\x67m\x67sm\x6f"]}=${$xwrcqjvvk};$select->joinLeft(array(${${"G\x4cO\x42\x41\x4cS"}["d\x73\x6a\x78\x72g\x67\x66"]}=>${$htdowko}),"{$joinTableAlias}.pro\x64u\x63t\x5fs\x75p\x65r\x5f\x61\x74tri\x62u\x74e\x5fi\x64\x20\x3d{$mainTableAlias}\x2e\x70\x72\x6f\x64u\x63t\x5fs\x75\x70er_\x61t\x74ri\x62ute_id \x41\x4e\x44 {$joinTableAlias}\x2es\x74ore\x5f\x69d\x20\x3d 0",null);${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6cei\x66\x70\x69\x75n\x67"]}=array("la\x62\x65l"=>"IF\x4eULL({$joinTableValueAlias}.\x76a\x6c\x75e,{$joinTableDefaultValueAlias}\x2ev\x61l\x75e)");${${"\x47\x4c\x4f\x42\x41\x4cS"}["k\x62\x64\x71t\x6a\x75\x61\x65c\x69\x72"]}=array_merge(${${"\x47L\x4f\x42\x41LS"}["\x6ce\x69fp\x69\x75\x6e\x67"]},$this->getColumns(self::EA,null,false,true));$select->columns($this->groupConcatColumns(${${"\x47\x4cO\x42A\x4cS"}["\x6do\x73\x6dk\x64\x72"]}));${$dfsustabf}=$this->joinEavAttribute(${${"G\x4c\x4f\x42A\x4c\x53"}["\x65so\x6e\x76\x6c\x6ew\x66\x77t"]});$select->group("\x70rod\x75c\x74_\x69\x64");return${$jmgxfsqqq};}public function getAllSuperAttributes(){$this->defineColumns();$wgnndlatijb="\x72\x65\x73u\x6c\x74";$rasbvxxw="\x73\x65\x6c\x65\x63t";${"\x47\x4cO\x42\x41\x4c\x53"}["\x75\x72\x6d\x75\x67p\x75nh\x71"]="\x72\x6fw";$ijoivxqcck="s\x75\x70\x65\x72\x41t\x74\x72\x69\x62u\x74\x65\x73";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["es\x6fn\x76\x6c\x6e\x77\x66wt"]}=$this->getSuperAttributesSelect();${"\x47L\x4f\x42A\x4cS"}["\x6frq\x78so\x6ai"]="\x73\x75\x70e\x72\x41tt\x72\x69b\x75\x74\x65s";${${"\x47\x4c\x4f\x42\x41LS"}["\x62\x73f\x6e\x69\x76i\x79\x61"]}=$this->runSelectQuery(${$rasbvxxw});${${"GL\x4f\x42ALS"}["\x67\x7a\x68\x74f\x72\x71\x6e\x6dt\x78"]}=array();if(!isset(${${"G\x4c\x4f\x42A\x4cS"}["b\x73\x66\x6ei\x76\x69\x79\x61"]})||!is_array(${$wgnndlatijb}))return${$ijoivxqcck};foreach(${${"\x47\x4cO\x42A\x4c\x53"}["\x62\x73\x66\x6ei\x76\x69ya"]} as${${"\x47\x4cO\x42\x41L\x53"}["\x75\x72mu\x67\x70\x75\x6ehq"]}){${"\x47\x4c\x4fBALS"}["p\x77j\x6f\x68z\x73"]="r\x6f\x77";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x67\x7a\x68\x74frqnmtx"]}[]=${${"G\x4c\x4f\x42\x41\x4cS"}["\x70wj\x6f\x68\x7a\x73"]}["\x63\x6fd\x65"];}return${${"\x47L\x4f\x42\x41L\x53"}["\x6frq\x78\x73\x6fj\x69"]};}protected function getSuperAttributesSelect(){$xpcjogk="\x6d\x61inTa\x62\x6c\x65\x41li\x61\x73";${"G\x4cOB\x41\x4cS"}["\x6b\x73mt\x61\x6akl\x79\x66"]="\x6d\x61\x69nT\x61\x62l\x65\x41l\x69\x61s";${${"\x47\x4c\x4fBA\x4c\x53"}["\x69\x63\x7a\x67\x78\x68\x76e\x76a"]}=$this->getTable("\x63at\x61lo\x67/pr\x6fd\x75\x63\x74_\x73\x75per_\x61\x74t\x72i\x62\x75te");${$xpcjogk}=self::CPSA;${"\x47\x4c\x4fBA\x4c\x53"}["\x79\x77\x6e\x6f\x67d\x78d\x6c\x66\x78\x6b"]="\x73\x65\x6c\x65\x63\x74";${${"\x47\x4cO\x42\x41L\x53"}["y\x77\x6eo\x67\x64xd\x6c\x66\x78k"]}=$this->getEmptySelect();$select->distinct();$select->from(array(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6bs\x6d\x74\x61\x6a\x6b\x6c\x79\x66"]}=>${${"\x47L\x4f\x42\x41\x4c\x53"}["i\x63\x7a\x67\x78\x68\x76\x65\x76a"]}),$this->getColumns(self::EA,null,false,true));$this->joinEavAttribute(${${"\x47\x4c\x4f\x42\x41LS"}["e\x73\x6fn\x76l\x6e\x77f\x77t"]});return${${"\x47\x4c\x4f\x42A\x4c\x53"}["e\x73\x6f\x6evl\x6e\x77\x66\x77\x74"]};}public function getCacheColumns(){${"G\x4c\x4f\x42A\x4c\x53"}["\x74\x68\x73\x73\x79q\x69\x78w"]="\x6c\x61\x62e\x6c\x43\x6fl\x75m\x6e";parent::getCacheColumns();${${"GLO\x42\x41\x4c\x53"}["\x66\x68\x61k\x6b\x65w\x69"]}="v\x61\x6cu\x65";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x73\x75\x70\x6csv\x71\x74\x69"]}="d\x65\x66\x61u\x6ct\x56\x61l\x75e";${${"\x47\x4cO\x42\x41\x4c\x53"}["\x6c\x65\x69\x66\x70\x69\x75\x6e\x67"]}=array("la\x62\x65l"=>"\x49F\x4e\x55\x4cL({$joinTableValueAlias}\x2e\x76alue,{$joinTableDefaultValueAlias}\x2ev\x61l\x75\x65)");return array_merge(${${"\x47L\x4f\x42\x41\x4cS"}["th\x73\x73yq\x69x\x77"]},$this->getColumns(self::EA,null,false,true));}protected function joinEavAttribute($select){${${"G\x4cOB\x41\x4c\x53"}["\x76j\x6ay\x65j\x66\x78"]}=self::CPSA;${${"G\x4c\x4f\x42A\x4cS"}["bx\x6a\x63\x67\x6d\x67\x73\x6do"]}=self::EA;${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x73\x76\x68n\x66vq\x6a\x65\x65l"]}=$this->getTable("e\x61v/\x61\x74\x74\x72\x69\x62ute");$xgmeaccowf="\x6a\x6f\x69n\x54\x61\x62l\x65\x41\x6c\x69as";$uncntgutlvn="\x6a\x6fi\x6e\x54\x61b\x6c\x65";$select->join(array(${$xgmeaccowf}=>${$uncntgutlvn}),"{$joinTableAlias}.\x61t\x74rib\x75\x74e\x5fi\x64 ={$mainTableAlias}.\x61\x74t\x72\x69\x62\x75\x74\x65\x5f\x69d",null);return${${"G\x4c\x4f\x42A\x4c\x53"}["\x65s\x6f\x6e\x76\x6cnw\x66\x77\x74"]};}protected function getCleanMainTableSql(){return"\x44\x45\x4c\x45TE FRO\x4d\x20{$this->getMainTable()} WHERE\x20s\x74\x6fre\x5f\x69d\x20\x3d\x20{$this->getStoreId()};";}}
?>